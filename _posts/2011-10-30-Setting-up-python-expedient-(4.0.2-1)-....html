tag=好好学习天天向上
<div id=content class="content mod-cs-content text-content clearfix"> <p>&nbsp;&nbsp; Installing Expedient and OIM<br />Run the following command to get the packages using apt-get:<br /><br />$ sudo echo &quot;deb http://download.opensuse.org/repositories/home:/jnaous:/expedient/xUbuntu_9.10 ./&quot; &gt;&gt; /etc/apt/sources.list<br />$ wget http://download.opensuse.org/repositories/home:/jnaous:/expedient/xUbuntu_9.10/Release.key<br />$ sudo apt-key add Release.key<br />$ sudo apt-get update<br />$ sudo apt-get install python-setuptools<br />$ sudo easy_install django django-autoslug django-renderform pyquery<br />$ sudo apt-get install python-optin-manager python-expedient<br /><br />It is possible that the packages might be downloaded, but not installed properly because of dependencies. Please run following commands to resolve that:<br /><br />$ sudo apt-get install -f<br />$ sudo dpkg --force-overwrite -i /var/cache/apt/archives/python-optin-manager_*_all.deb<br />$ sudo dpkg --force-overwrite -i /var/cache/apt/archives/python-expedient_*_all.deb<br /><br />In your FlowVisor directory, ensure that you have the right myKeystore file:<br /><br />$ cd flowvisor<br />$ rm mySSLKeyStore<br />$ keytool -genkey -keystore mySSLKeyStore -storepass CHANGEME_PASSWD -keypass CHANGEME_PASSWD -keyalg RSA -dname cn=HOST_NAME<br /><br />Configure Expedient. Be sure to set all the parameters within &lt; and &gt; in /etc/expedient/localsettings.py<br /><br />$ sudo vi /etc/expedient/localsettings.py<br />$ sudo PYTHONPATH=/etc/expedient expedient_bootstrap_mysql --rootpassword &lt;rootpasswd&gt;<br />$ sudo PYTHONPATH=/etc/expedient expedient_manage create_secret_key<br />$ sudo PYTHONPATH=/etc/expedient expedient_manage syncdb --noinput<br />$ sudo PYTHONPATH=/etc/expedient expedient_manage create_default_root<br /><br />If you had a previous version of Expedient installed and want to preserve data, please run the following commands after the upgrade:<br /><br />$ mysql -u expedient -p expedient -e &quot;alter table slice_slice add column expiration_date datetime NOT NULL default '2011-12-31 23:59:59';&quot;<br />$sudo PYTHONPATH=/etc/expedient expedient_manage syncdb&quot;<br /><br />Configure opt-in manager. Be sure to set all the parameters within &lt; and &gt;<br /><br />$ sudo vi /etc/optin_manager/localsettings.py<br />$ sudo PYTHONPATH=/etc/optin_manager om_bootstrap_mysql --rootpassword &lt;rootpasswd&gt;<br />$ sudo PYTHONPATH=/etc/optin_manager om_manage create_secret_key<br />$ sudo PYTHONPATH=/etc/optin_manager om_manage syncdb --noinput<br />$ sudo PYTHONPATH=/etc/optin_manager om_manage create_default_root<br /><br />Configure and restart the HTTPS server:<br /><br />$ cd /etc/expedient/apache<br />$ sudo ln -s ../../expedient/apache/vhost-clearinghouse.conf /etc/apache2/sites-available/expedient-clearinghouse<br />$ sudo ln -s ../../optin_manager/apache/vhost-optinmgr.conf /etc/apache2/sites-available/optin-manager<br />$ cd ca-certs; sudo make<br />$ sudo a2ensite expedient-clearinghouse<br />$ sudo a2ensite optin-manager<br />$ sudo a2enmod ssl<br />$ sudo service apache2 restart<br /></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>1&nbsp; sudo vim /etc/apt/sources.list<br />&nbsp;&nbsp;&nbsp; 2&nbsp; sudo vi /etc/apt/sources.list<br />&nbsp;&nbsp;&nbsp; 3&nbsp; cd /media/VMWARE\ TOOLS/<br />&nbsp;&nbsp;&nbsp; 4&nbsp; ls<br />&nbsp;&nbsp;&nbsp; 5&nbsp; cp -r vmware-tools-distrib/ ~/<br />&nbsp;&nbsp;&nbsp; 6&nbsp; cd <br />&nbsp;&nbsp;&nbsp; 7&nbsp; ls<br />&nbsp;&nbsp;&nbsp; 8&nbsp; chmod 777 -r vmware-tools-distrib/<br />&nbsp;&nbsp;&nbsp; 9&nbsp; chmod -r 777&nbsp; vmware-tools-distrib/<br />&nbsp;&nbsp; 10&nbsp; chmod -R 777&nbsp; vmware-tools-distrib/<br />&nbsp;&nbsp; 11&nbsp; ls<br />&nbsp;&nbsp; 12&nbsp; cd vmware-tools-distrib/<br />&nbsp;&nbsp; 13&nbsp; ls<br />&nbsp;&nbsp; 14&nbsp; sudo ./vmware-install.pl <br />&nbsp;&nbsp; 15&nbsp; cd<br />&nbsp;&nbsp; 16&nbsp; sudo vim /etc/apt/sources.list<br />&nbsp;&nbsp; 17&nbsp; sudo apt-get install vim<br />&nbsp;&nbsp; 18&nbsp; sudo gedit /etc/apt/sources.list<br />&nbsp;&nbsp; 19&nbsp; sudo apt-get update<br />&nbsp;&nbsp; 20&nbsp; uname -r<br />&nbsp;&nbsp; 21&nbsp; cd /usr/src/linux-headers-2.6.38-8-generic/include/<br />&nbsp;&nbsp; 22&nbsp; cp --help<br />&nbsp;&nbsp; 23&nbsp; cp -p generated/utsrelease.h linux/<br />&nbsp;&nbsp; 24&nbsp; sudo cp -p generated/utsrelease.h linux/<br />&nbsp;&nbsp; 25&nbsp; sudo cp -p generated/autoconf.h linux/<br />&nbsp;&nbsp; 26&nbsp; sudo apt-get update <br />&nbsp;&nbsp; 27&nbsp; sudo apt-get install vim ctags<br />&nbsp;&nbsp; 28&nbsp; vim <br />&nbsp;&nbsp; 29&nbsp; ls<br />&nbsp;&nbsp; 30&nbsp; mkdir FV<br />&nbsp;&nbsp; 31&nbsp; cd FV<br />&nbsp;&nbsp; 32&nbsp; ls<br />&nbsp;&nbsp; 33&nbsp; ping6 www.kame.net<br />&nbsp;&nbsp; 34&nbsp; git pull doubleko FV:FV<br />&nbsp;&nbsp; 35&nbsp; sudo apt-get install git<br />&nbsp;&nbsp; 36&nbsp; git pull doubleko FV:FV<br />&nbsp;&nbsp; 37&nbsp; git init<br />&nbsp;&nbsp; 38&nbsp; vim ../netrc<br />&nbsp;&nbsp; 39&nbsp; git remote add doubleko https://code.google.com/p/doubleko/<br />&nbsp;&nbsp; 40&nbsp; git pull doubleko FV:FV<br />&nbsp;&nbsp; 41&nbsp; sudo vim /etc/hosts<br />&nbsp;&nbsp; 42&nbsp; git pull doubleko FV:FV<br />&nbsp;&nbsp; 43&nbsp; ls<br />&nbsp;&nbsp; 44&nbsp; cd flowvisor/<br />&nbsp;&nbsp; 45&nbsp; ls<br />&nbsp;&nbsp; 46&nbsp; sudo apt-get install ant openjdk-6-jdk<br />&nbsp;&nbsp; 47&nbsp; cat INSTALL <br />&nbsp;&nbsp; 48&nbsp; make CFLAGS=&quot;-I/usr/lib/jvm/java-6-openjdk/include&quot;<br />&nbsp;&nbsp; 49&nbsp; cat INSTALL <br />&nbsp;&nbsp; 50&nbsp; make install<br />&nbsp;&nbsp; 51&nbsp; cd ..<br />&nbsp;&nbsp; 52&nbsp; ls<br />&nbsp;&nbsp; 53&nbsp; ls -l /usr/bin | grep python<br />&nbsp;&nbsp; 54&nbsp; ls /usr/lib/python2.6/<br />&nbsp;&nbsp; 55&nbsp; sudo apt-get install python2.6<br />&nbsp;&nbsp; 56&nbsp; ls -l /usr/bin | grep python<br />&nbsp;&nbsp; 57&nbsp; sudo ln -s /usr/bin/python2.6 /usr/bin/python<br />&nbsp;&nbsp; 58&nbsp; sudo rm /usr/bin/python<br />&nbsp;&nbsp; 59&nbsp; sudo ln -s /usr/bin/python2.6 /usr/bin/python<br />&nbsp;&nbsp; 60&nbsp; ls -l /usr/bin | grep python<br />&nbsp;&nbsp; 61&nbsp; python<br />&nbsp;&nbsp; 62&nbsp; sudo vim /etc/apt/sources.list<br />&nbsp;&nbsp; 63&nbsp; wget http://download.opensuse.org/repositories/home:/jnaous:/expedient/xUbuntu_9.10/Release.key<br />&nbsp;&nbsp; 64&nbsp; sudo apt-key add Release.key<br />&nbsp;&nbsp; 65&nbsp; sudo apt-get update<br />&nbsp;&nbsp; 66&nbsp; sudo apt-get install python-setuptools<br />&nbsp;&nbsp; 67&nbsp; sudo easy_install django django-autoslug django-renderform pyquery<br />&nbsp;&nbsp; 68&nbsp; sudo apt-get install libxml2-dev libxslt-dev python-dev<br />&nbsp;&nbsp; 69&nbsp; sudo easy_install django django-autoslug django-renderform pyquery<br />&nbsp;&nbsp; 70&nbsp; sudo apt-get install python-devel<br />&nbsp;&nbsp; 71&nbsp; sudo apt-get install python-dev<br />&nbsp;&nbsp; 72&nbsp; sudo easy_install django django-autoslug django-renderform pyquery<br />&nbsp;&nbsp; 73&nbsp; sudo apt-get install python2.6-dev<br />&nbsp;&nbsp; 74&nbsp; sudo easy_install django django-autoslug django-renderform pyquery<br />&nbsp;&nbsp; 75&nbsp; sudo apt-get install python-optin-manager python-expedient<br />&nbsp;&nbsp; 76&nbsp; sudo apt-get install -f<br />&nbsp;&nbsp; 77&nbsp; ls /var/cache/apt/archives/<br />&nbsp;&nbsp; 78&nbsp; ls /var/cache/apt/archives/ | grep optin<br />&nbsp;&nbsp; 79&nbsp; ls /var/cache/apt/archives/ | grep expedient<br />&nbsp;&nbsp; 80&nbsp; sudo dpkg --force-overwrite -i /var/cache/apt/archives/python-optin-manager_0.2.4.2-1_all.deb<br />&nbsp;&nbsp; 81&nbsp; sudo dpkg --force-overwrite -i /var/cache/apt/archives/python-expedient_4.0.2-1_all.deb<br />&nbsp;&nbsp; 82&nbsp; history</p> </div>