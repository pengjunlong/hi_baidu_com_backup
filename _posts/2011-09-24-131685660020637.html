---
layout: post
title: 利用rand7()构造rand10() 随机1~10
time: 2011-09-24 17:30
keywords: 好好学习天天向上
---
<div id=content class="content mod-cs-content text-content clearfix"> <p>已知有个rand7()的函数，返回1到7随机自然数，让利用这个rand7()构造rand10() 随机1~10</p>&nbsp;1 #include &lt;stdio.h&gt;<br />&nbsp;2 #include &lt;stdlib.h&gt;<br />&nbsp;3 #include &lt;time.h&gt;<br />&nbsp;4 <br />&nbsp;5 int rand7()<br />&nbsp;6 {<br />&nbsp;7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1 + (int)(7.0 * rand() / (RAND_MAX+1.0));<br />&nbsp;8 }<br />&nbsp;9 <br />10 int rand10()<br />11 {<br />12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int rand49 = 7 * (rand7() - 1) + rand7();<br />13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (rand49 &gt; 10)<br />14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return rand10();<br />15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br />16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return rand49;<br />17 }<br />18 <br />19 int main(void)<br />20 {<br />21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; srand((int)time(0));<br />22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i = 0;<br />23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /*<br />24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (; i&lt;70; i++)<br />25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;%d\n&quot;, rand7());<br />26&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */<br />27&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i = 0;<br />28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (; i&lt;700000; i++)<br />29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;%d\n&quot;, rand10());<br />30 <br />31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;<br />32 }<br />33&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br /><br /><p></p>cool@Linux:~/vim_c$ ./a.out |sort -n|uniq -c<br />&nbsp; 69781 1<br />&nbsp; 69987 2<br />&nbsp; 69872 3<br />&nbsp; 69996 4<br />&nbsp; 70349 5<br />&nbsp; 70128 6<br />&nbsp; 69337 7<br />&nbsp; 70207 8<br />&nbsp; 70013 9<br />&nbsp; 70330 10<br /><br /> </div>