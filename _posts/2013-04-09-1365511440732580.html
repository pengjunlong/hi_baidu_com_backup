---
layout: post
title: vim状态栏安装Powerline
time: 2013-04-09 20:44
keywords: 好好学习天天向上
---
<div id=content class="content mod-cs-content text-content clearfix"> <p>Screenshots</p><p style="font-size: 16px; font-family: ff-meta-web-pro-1,ff-meta-web-pro-2,Arial,&#039;Helvetica Neue&#039;,sans-serif; background-color: #ffffff; line-height: 24px; margin-top: 0.8em; margin-bottom: 0.5em;"><strong>Mode-dependent&nbsp;highlighting</strong></p><p><img src="http://f.hiphotos.baidu.com/album/pic/item/c8177f3e6709c93d857df3909e3df8dcd00054ce.jpg" width="640" /></p><p><br /></p><p><br /></p><p><br /></p><p>Plugin&nbsp;installation</p><ol style="font-size: 16px; font-family: ff-meta-web-pro-1,ff-meta-web-pro-2,Arial,&#039;Helvetica Neue&#039;,sans-serif; background-color: #ffffff; line-height: 24px;"><li><p style="margin-bottom: 0.5em;">Install&nbsp;Python&nbsp;3.2+&nbsp;or&nbsp;Python&nbsp;2.6+.</p></li><li><p style="margin-bottom: 0.5em;">Install&nbsp;Powerline&nbsp;using&nbsp;the&nbsp;following&nbsp;command:</p><div>pip&nbsp;install&nbsp;--user&nbsp;git+git://github.com/Lokaltog/powerline</div></li></ol><p>安装后位于~/.local/lib/python2.6/site-packages/powerline/</p><p><br /></p><p><br /></p><p>Usage</p><div>Vim&nbsp;statusline<p style="margin-top: 0.8em; margin-bottom: 0.5em;">Add&nbsp;the&nbsp;following&nbsp;line&nbsp;to&nbsp;your&nbsp;<span>vimrc</span>,&nbsp;where&nbsp;<span>{path}</span>&nbsp;is&nbsp;the&nbsp;absolute&nbsp;path&nbsp;to&nbsp;your&nbsp;Powerline&nbsp;installation&nbsp;directory:</p><div><div><span style="color: #007020;">set</span><span style="color: #007020;">rtp</span><span>+=</span>{<span style="color: #007020;">path</span>}<span style="color: #235388;">/powerline/</span>bindings/<span style="color: #007020;">vim</span></div></div></div><p>例如在.vimrc加入（不设置256色则状态栏各区域颜色可能无法正常显示）</p><p><span>set&nbsp;rtp+=~/.local/lib/python2.6/site-packages/powerline/bindings/vim</span></p><p><span>set&nbsp;t_Co=256</span></p><p><br /></p><p><br /></p><p><br /></p><p>Patched&nbsp;font</p><ol style="font-size: 16px; font-family: ff-meta-web-pro-1,ff-meta-web-pro-2,Arial,&#039;Helvetica Neue&#039;,sans-serif; background-color: #ffffff; line-height: 24px;"><li><p>Download&nbsp;the&nbsp;font&nbsp;of&nbsp;your&nbsp;choice&nbsp;from&nbsp;<a href="https://github.com/Lokaltog/powerline-fonts" target="_blank">powerline-fonts</a>.&nbsp;If&nbsp;you&nbsp;can’t&nbsp;find&nbsp;your&nbsp;preferred&nbsp;font&nbsp;in&nbsp;the&nbsp;<a href="https://github.com/Lokaltog/powerline-fonts" target="_blank">powerline-fonts</a>&nbsp;repo,&nbsp;you’ll&nbsp;have&nbsp;to&nbsp;patch&nbsp;your&nbsp;own&nbsp;font&nbsp;instead.&nbsp;See&nbsp;<a href="https://powerline.readthedocs.org/en/latest/fontpatching.html#font-patching" target="_blank">Font&nbsp;patching</a>&nbsp;for&nbsp;instructions.</p></li><li><p>Move&nbsp;your&nbsp;patched&nbsp;font&nbsp;to&nbsp;<span>~/.fonts/</span>&nbsp;(or&nbsp;another&nbsp;X&nbsp;font&nbsp;directory).</p></li><li><p>Run&nbsp;<span>fc-cache</span>&nbsp;<span>-vf</span>&nbsp;<span>~/.fonts</span>&nbsp;to&nbsp;update&nbsp;your&nbsp;font&nbsp;cache.</p></li><li><p>Update&nbsp;Gvim&nbsp;or&nbsp;your&nbsp;terminal&nbsp;emulator&nbsp;to&nbsp;use&nbsp;the&nbsp;patched&nbsp;font.&nbsp;(the&nbsp;correct&nbsp;font&nbsp;usually&nbsp;ends&nbsp;with&nbsp;<em>for&nbsp;Powerline</em>).</p></li><li><p>If&nbsp;you&nbsp;don’t&nbsp;see&nbsp;the&nbsp;arrow&nbsp;symbols,&nbsp;please&nbsp;close&nbsp;all&nbsp;instances&nbsp;of&nbsp;your&nbsp;terminal&nbsp;emulator&nbsp;or&nbsp;gvim.&nbsp;You&nbsp;may&nbsp;also&nbsp;have&nbsp;to&nbsp;restart&nbsp;X&nbsp;for&nbsp;the&nbsp;changes&nbsp;to&nbsp;take&nbsp;effect.&nbsp;If&nbsp;you&nbsp;<em>still</em>&nbsp;don’t&nbsp;see&nbsp;the&nbsp;arrow&nbsp;symbols,&nbsp;please&nbsp;submit&nbsp;an&nbsp;issue&nbsp;on&nbsp;GitHub.</p></li></ol><p>我下载的字体是（不装字体则git分支图标、分隔箭头无法正常显示）</p><p>https://raw.github.com/Lokaltog/powerline-fonts/master/DejaVuSansMono/DejaVu%20Sans%20Mono%20for%20Powerline.otf</p><p>建议是显示终端所在系统和vim所在系统都最好同时装上该字体，这样不管是本地编辑还是ssh之类的远程编辑都可以看到效果</p><p><br /></p><p><span>echo&nbsp;$LANG</span></p><p><span>en_US.UTF-8</span></p><p>编码之类的设置见仁见智了</p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p>https://github.com/Lokaltog/powerline</p> </div>