<h2>好好学习天天向上</h2><br/><h1>reverse--breakpoints-watchpoints</h1><hr/>
<div id=content class="content mod-cs-content text-content clearfix"> <p>(gdb) list <br />1&nbsp;&nbsp;&nbsp; #include &lt;stdio.h&gt;<br />2&nbsp;&nbsp;&nbsp; <br />3&nbsp;&nbsp;&nbsp; int main(void)<br />4&nbsp;&nbsp;&nbsp; {<br />5&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int i;<br />6&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; char str[6] = &quot;hello&quot;;<br />7&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; char reverse_str[6] = &quot;&quot;;<br />8&nbsp;&nbsp;&nbsp; <br />9&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf(&quot;%s\n&quot;, str);<br />10&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for (i=0; i&lt;5; i++)<br />(gdb) <br />11&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; reverse_str[5-i] = str[i];<br />12&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf(&quot;%s\n&quot;, reverse_str);<br />13&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return 0;<br />14&nbsp;&nbsp;&nbsp; }<br />(gdb) <br />Line number 15 out of range; reverse.c has 14 lines.<br />(gdb) start<br />Temporary breakpoint 7 at 0x80483bd: file reverse.c, line 6.<br />Starting program: /home/pjl/tmp/a.out <br /><br />Temporary breakpoint 7, main () at reverse.c:6<br />6&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; char str[6] = &quot;hello&quot;;<br />(gdb) break 11 if i==3<br />Breakpoint 8 at 0x80483f1: file reverse.c, line 11.<br />(gdb) continue <br />Continuing.<br />hello<br /><br />Breakpoint 8, main () at reverse.c:11<br />11&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; reverse_str[5-i] = str[i];<br />(gdb) print i<br />$1 = 3<br />(gdb) bt<br />#0&nbsp; main () at reverse.c:11<br />(gdb) p reverse_str <br />$2 = &quot;\000\000\000leh&quot;<br />(gdb) x/8b reverse_str <br />0xbffff320:&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 101&nbsp;&nbsp;&nbsp; 104&nbsp;&nbsp;&nbsp; 104&nbsp;&nbsp;&nbsp; 101<br />(gdb) x/8b str<br />0xbffff326:&nbsp;&nbsp;&nbsp; 104&nbsp;&nbsp;&nbsp; 101&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 111&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp; 0<br />(gdb) x/6b str<br />0xbffff326:&nbsp;&nbsp;&nbsp; 104&nbsp;&nbsp;&nbsp; 101&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 111&nbsp;&nbsp;&nbsp; 0<br />(gdb) x/6b reverse_str <br />0xbffff320:&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 101&nbsp;&nbsp;&nbsp; 104<br />(gdb) s<br />10&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for (i=0; i&lt;5; i++)<br />(gdb) s<br />11&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; reverse_str[5-i] = str[i];<br />(gdb) x/6b reverse_str <br />0xbffff320:&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 101&nbsp;&nbsp;&nbsp; 104<br />(gdb) s<br />10&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for (i=0; i&lt;5; i++)<br />(gdb) <br />12&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf(&quot;%s\n&quot;, reverse_str);<br />(gdb) x/6b reverse_str <br />0xbffff320:&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 111&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 101&nbsp;&nbsp;&nbsp; 104<br />(gdb) s<br /><br />13&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; return 0;<br />(gdb) x/6b reverse_str <br />0xbffff320:&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp; 111&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 108&nbsp;&nbsp;&nbsp; 101&nbsp;&nbsp;&nbsp; 104<br />(gdb) print reverse_str[1]-'o'<br />$3 = 0<br />(gdb) print reverse_str[1]-'p'<br />$4 = -1<br />(gdb) print reverse_str[0]-'\0'<br />$5 = 0<br />(gdb) print reverse_str[0]-'\'<br />Unmatched single quote.<br />(gdb) print reverse_str[0]-'1'<br />$6 = -49<br />(gdb) c<br />Continuing.<br /><br />Program exited normally.<br />(gdb) info breakpoints <br />Num&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Disp Enb Address&nbsp;&nbsp;&nbsp; What<br />2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; breakpoint&nbsp;&nbsp;&nbsp;&nbsp; keep y&nbsp;&nbsp; 0x080483e7 in main at reverse.c:10<br />&nbsp;&nbsp;&nbsp; stop only if i==4<br />4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; breakpoint&nbsp;&nbsp;&nbsp;&nbsp; keep y&nbsp;&nbsp; 0x080483e7 in main at reverse.c:10<br />&nbsp;&nbsp;&nbsp; stop only if i==4<br />6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; breakpoint&nbsp;&nbsp;&nbsp;&nbsp; keep y&nbsp;&nbsp; 0x080483e7 in main at reverse.c:10<br />&nbsp;&nbsp;&nbsp; stop only if i==3<br />8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; breakpoint&nbsp;&nbsp;&nbsp;&nbsp; keep y&nbsp;&nbsp; 0x080483f1 in main at reverse.c:11<br />&nbsp;&nbsp;&nbsp; stop only if i==3<br />&nbsp;&nbsp;&nbsp; breakpoint already hit 1 time<br />(gdb) delete breakpoints <br />Delete all breakpoints? (y or n) y<br />(gdb) info breakpoints <br />No breakpoints or watchpoints.<br />(gdb) start<br />Temporary breakpoint 9 at 0x80483bd: file reverse.c, line 6.<br />Starting program: /home/pjl/tmp/a.out <br /><br />Temporary breakpoint 9, main () at reverse.c:6<br />6&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; char str[6] = &quot;hello&quot;;<br />(gdb) s<br />7&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; char reverse_str[6] = &quot;&quot;;<br />(gdb) s<br />9&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; printf(&quot;%s\n&quot;, str);<br />(gdb) s<br />hello<br />10&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for (i=0; i&lt;5; i++)<br />(gdb) watch reverse_str[1]<br />Hardware watchpoint 10: reverse_str[1]<br />(gdb) info watchpoints <br />Num&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Disp Enb Address&nbsp;&nbsp;&nbsp; What<br />10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hw watchpoint&nbsp; keep y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reverse_str[1]<br />(gdb) continue <br />Continuing.<br />Hardware watchpoint 10: reverse_str[1]<br /><br />Old value = 0 '\000'<br />New value = 111 'o'<br />main () at reverse.c:10<br />10&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; for (i=0; i&lt;5; i++)<br />(gdb) c<br />Continuing.<br /><br /><br />Watchpoint 10 deleted because the program has left the block in<br />which its expression is valid.<br />0x00145ce7 in __libc_start_main () from /lib/libc.so.6<br />(gdb) c<br />Continuing.<br /><br />Program exited normally.<br />(gdb) <br /></p> </div>