---
layout: post
title: 在linux环境下搭建lamp开发环境
time: 2011-01-18 15:45
tags: 好好学习天天向上
---

<div id=content class="content mod-cs-content text-content clearfix"> <p>&nbsp;<b>1&nbsp;</b>#!/bin/bash&nbsp;<br /><b>&nbsp;2&nbsp;</b>sudo apt-get&nbsp;<b>install</b>&nbsp;cmake<br /><b>&nbsp;3&nbsp;</b>sudo apt-get&nbsp;<b>install</b>&nbsp;autoconf<br /><b>&nbsp;4&nbsp;</b>sudo apt-get&nbsp;<b>install</b>&nbsp;libxml2-dev<br /><b>&nbsp;5&nbsp;</b>sudo apt-get&nbsp;<b>install</b>&nbsp;libncurses5-dev<br /><b>&nbsp;6&nbsp;</b>sudo apt-get&nbsp;<b>install</b>&nbsp;libmcrypt-dev<br /><b>&nbsp;7&nbsp;</b><br /><b>&nbsp;8&nbsp;</b><b>exist</b>=`<b>find</b>&nbsp;-name&nbsp;<b>&quot;</b><b>httpd-*</b><b>&quot;</b>&nbsp;-<b>type</b>&nbsp;d&nbsp;<b>|</b>&nbsp;wc -l`<br /><b>&nbsp;9&nbsp;</b><b>if&nbsp;</b><b>[</b>&nbsp;<b>&quot;</b><b>$exist</b><b>&quot;</b>&nbsp;<b>-eq</b>&nbsp;<b>&quot;</b><b>0</b><b>&quot;</b>&nbsp;<b>]</b><br /><b>10&nbsp;</b><b>then</b><br /><b>11&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar zxvf httpd-*.gz&nbsp;<br /><b>12&nbsp;</b><b>fi</b><br /><b>13&nbsp;</b><b>exist</b>=`<b>find</b>&nbsp;-name&nbsp;<b>&quot;</b><b>mysql-*</b><b>&quot;</b>&nbsp;-<b>type</b>&nbsp;d&nbsp;<b>|</b>&nbsp;wc -l`<br /><b>14&nbsp;</b><b>if&nbsp;</b><b>[</b>&nbsp;<b>&quot;</b><b>$exist</b><b>&quot;</b>&nbsp;<b>-eq</b>&nbsp;<b>&quot;</b><b>0</b><b>&quot;</b>&nbsp;<b>]</b><br /><b>15&nbsp;</b><b>then</b><br /><b>16&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar zxvf mysql-*.gz&nbsp;<br /><b>17&nbsp;</b><b>fi</b><br /><b>18&nbsp;</b><b>exist</b>=`<b>find</b>&nbsp;-name&nbsp;<b>&quot;</b><b>php-*</b><b>&quot;</b>&nbsp;-<b>type</b>&nbsp;d&nbsp;<b>|</b>&nbsp;wc -l`<br /><b>19&nbsp;</b><b>if&nbsp;</b><b>[</b>&nbsp;<b>&quot;</b><b>$exist</b><b>&quot;</b>&nbsp;<b>-eq</b>&nbsp;<b>&quot;</b><b>0</b><b>&quot;</b>&nbsp;<b>]</b><br /><b>20&nbsp;</b><b>then</b><br /><b>21&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tar zxvf php-*.gz&nbsp;<br /><b>22&nbsp;</b><b>fi</b><br /><b>23&nbsp;</b><br /><b>24&nbsp;</b>#apache &amp;&amp;<br /><b>25&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>cd</b>&nbsp;httpd-*&nbsp;<br /><b>26&nbsp;</b>./configure&nbsp;&nbsp;&amp;&amp;<br /><b>27&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp;<br /><b>28&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo make&nbsp;<b>install</b>&nbsp;&amp;&amp;<br /><b>29&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>cd</b>&nbsp;..&nbsp;<br /><b>30&nbsp;</b>sudo cp httpd.conf /usr/<b>local</b>/apache2/conf/<br /><b>31&nbsp;</b>sudo cp&nbsp;-r&nbsp;phpmyadmin /usr/<b>local</b>/apache2/htdocs/<br /><b>32&nbsp;</b><br /><b>33&nbsp;</b>#mysql &amp;&amp;<br /><b>34&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>cd</b>&nbsp;mysql-*&nbsp;<br /><b>35&nbsp;</b>sudo groupadd mysql&nbsp;<br /><b>36&nbsp;</b>sudo useradd&nbsp;-g&nbsp;mysql mysql&nbsp;<br /><b>37&nbsp;</b><b>rm</b>&nbsp;CMakeCache.txt<br /><b>38&nbsp;</b>cmake<b>&nbsp;.&nbsp;</b>&amp;&amp;<br /><b>39&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp;<br /><b>40&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo make&nbsp;<b>install</b>&nbsp;<br /><b>41&nbsp;</b><b>cd</b>&nbsp;/usr/<b>local</b>/mysql &amp;&amp;<br /><b>42&nbsp;</b>sudo chown&nbsp;-R&nbsp;mysql<b>&nbsp;.&nbsp;</b>&amp;&amp;<br /><b>43&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo chgrp&nbsp;-R&nbsp;mysql<b>&nbsp;.&nbsp;</b>&amp;&amp;<br /><b>44&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo scripts/mysql_install_db&nbsp;--user=mysql --basedir=/usr/local/mysql &amp;&amp;<br /><b>45&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo chown&nbsp;-R&nbsp;root<b>&nbsp;.&nbsp;</b>&amp;&amp;<br /><b>46&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo chown&nbsp;-R&nbsp;mysql data &amp;&amp;<br /><b>47&nbsp;</b><b>cd</b>&nbsp;-<br /><b>48&nbsp;</b><b>cd</b>&nbsp;..&nbsp;<br /><b>49&nbsp;</b>sudo cp my.cnf /etc/my.cnf&nbsp;#optional &amp;&amp;<br /><b>50&nbsp;</b><br /><b>51&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#php &amp;&amp;<br /><b>52&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>cd</b>&nbsp;php-*&nbsp;<br /><b>53&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./configure&nbsp;--prefix=/usr/local/php&nbsp;--with-mysql=/usr/local/mysql&nbsp;--with-apxs2=/usr/local/apache2/bin/apxs&nbsp;&nbsp;--enable-mbstring&nbsp;--with-mcrypt&nbsp;&amp;&amp;<br /><b>54&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make &amp;&amp;<br /><b>55&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo make&nbsp;<b>install</b>&nbsp;&amp;&amp;<br /><b>56&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>cd</b>&nbsp;..<br /><b>57&nbsp;</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo cp php.ini /usr/<b>local</b>/php/lib/php.ini<br /></p><p>其实更简单的方法是</p><p>http://sourceforge.net/projects/xampp/</p><p>over～不过你就不能按部就班地学习lamp配置了</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp; 118&nbsp; mv php-5.3.5.tar.gz /usr/local/src/<br />&nbsp; 119&nbsp; mv httpd-2.2.17.tar.gz /usr/local/src/<br />&nbsp; 120&nbsp; mv mysql-5.5.8.tar.gz /usr/local/src/<br />&nbsp; 121&nbsp; cd /usr/local/src<br />&nbsp; 122&nbsp; ls<br />&nbsp; 123&nbsp; gcc -v<br />&nbsp; 124&nbsp; tar zxvf httpd-2.2.17.tar.gz <br />&nbsp; 125&nbsp; tar zxvf mysql-5.5.8.tar.gz <br />&nbsp; 126&nbsp; tar zxvf php-5.3.5.tar.gz <br />&nbsp; 127&nbsp; apt-get install libxml2<br />&nbsp; 128&nbsp; apt-get install libmcrypt<br />&nbsp; 129&nbsp; apt-cache search libmcrypt<br />&nbsp; 130&nbsp; apt-get install libmcrypt4<br />&nbsp; 131&nbsp; apt-get install libmcrypt-dev<br />&nbsp; 132&nbsp; apt-get install zlib<br />&nbsp; 133&nbsp; apt-cache search zlib<br />&nbsp; 134&nbsp; apt-get install build-essential<br />&nbsp; 135&nbsp; apt-get install zlib1g-dev<br />&nbsp; 136&nbsp; apt-cache search zlib1g-dev<br />&nbsp; 137&nbsp; apt-get install libpng<br />&nbsp; 138&nbsp; apt-cache search libpng<br />&nbsp; 139&nbsp; apt-get install libpng12<br />&nbsp; 140&nbsp; apt-get install libpng12-dev<br />&nbsp; 141&nbsp; apt-cache search jpeg<br />&nbsp; 142&nbsp; apt-cache search jpeg6<br />&nbsp; 143&nbsp; apt-get install libjpeg<br />&nbsp; 144&nbsp; apt-get install libjpeg62<br />&nbsp; 145&nbsp; apt-get install libjpeg62-dev<br />&nbsp; 146&nbsp; apt-get install freetype<br />&nbsp; 147&nbsp; apt-cache search freetype<br />&nbsp; 148&nbsp; apt-get install libfreetype<br />&nbsp; 149&nbsp; apt-get install libfreetype6<br />&nbsp; 150&nbsp; apt-get install libfreetype6-dev<br />&nbsp; 151&nbsp; apt-cache search autoconf<br />&nbsp; 152&nbsp; apt-get install autoconf<br />&nbsp; 153&nbsp; apt-cache search libgd<br />&nbsp; 154&nbsp; apt-cache search libgd2<br />&nbsp; 155&nbsp; apt-get install libgd2<br />&nbsp; 156&nbsp; apt-get install libgd2-xpm<br />&nbsp; 157&nbsp; apt-get install libgd2-xpm-dev<br />&nbsp; 158&nbsp; locate zlib<br />&nbsp; 159&nbsp; cd httpd-2.2.17<br />&nbsp; 160&nbsp; ls<br />&nbsp; 161&nbsp; ./configure<br />&nbsp; 162&nbsp; vim Makefile<br />&nbsp; 163&nbsp; make<br />&nbsp; 164&nbsp; ls<br />&nbsp; 165&nbsp; make install <br />&nbsp; 166&nbsp; history<br />&nbsp; 167&nbsp; cd /usr/local/apache2/<br />&nbsp; 168&nbsp; ls<br />&nbsp; 169&nbsp; cd /etc<br />&nbsp; 170&nbsp; ls<br />&nbsp; 171&nbsp; locate httpd.conf<br />&nbsp; 172&nbsp; cd /usr/local/apache2/<br />&nbsp; 173&nbsp; ls<br />&nbsp; 174&nbsp; cd conf<br />&nbsp; 175&nbsp; ls<br />&nbsp; 176&nbsp; locate httpd.conf<br />&nbsp; 177&nbsp; locate httpd<br />&nbsp; 178&nbsp; cd /<br />&nbsp; 179&nbsp; find -name httpd.conf<br />&nbsp; 180&nbsp; cd /usr/local/apache2/<br />&nbsp; 181&nbsp; cd bin<br />&nbsp; 182&nbsp; ls<br />&nbsp; 183&nbsp; apachectl --help<br />&nbsp; 184&nbsp; ./apachectl <br />&nbsp; 185&nbsp; ./apachectl start<br />&nbsp; 186&nbsp; netstat -apn|grep 80<br />&nbsp; 187&nbsp; ps -ef|grep httpd<br />&nbsp; 188&nbsp; cd /etc/rc.local<br />&nbsp; 189&nbsp; vim /etc/rc.local <br />&nbsp; 190&nbsp; cd /etc/rc0.d/<br />&nbsp; 191&nbsp; ls<br />&nbsp; 192&nbsp; cd ..<br />&nbsp; 193&nbsp; ls<br />&nbsp; 194&nbsp; find -name rc.local<br />&nbsp; 195&nbsp; vim init.d/rc.local <br />&nbsp; 196&nbsp; cd /usr/local/src/<br />&nbsp; 197&nbsp; ls<br />&nbsp; 198&nbsp; cd mysql-5.5.8<br />&nbsp; 199&nbsp; ls<br />&nbsp; 200&nbsp; history<br />&nbsp; 201&nbsp; groupadd mysql<br />&nbsp; 202&nbsp; useradd -g mysql mysql<br />&nbsp; 203&nbsp; ./configure --with-extra-charsets=all<br />&nbsp; 204&nbsp; ls<br />&nbsp; 205&nbsp; cmake<br />&nbsp; 206&nbsp; apt-get install cmake<br />&nbsp; 207&nbsp; cmake .<br />&nbsp; 208&nbsp; ls<br />&nbsp; 209&nbsp; make<br />&nbsp; 210&nbsp; make install<br />&nbsp; 211&nbsp; cd /usr/local/mysql/<br />&nbsp; 212&nbsp; ls<br />&nbsp; 213&nbsp; cd /etc<br />&nbsp; 214&nbsp; ls<br />&nbsp; 215&nbsp; cd /usr/local/mysql/<br />&nbsp; 216&nbsp; cp support-files/my-medium.cnf /etc/my.cnf<br />&nbsp; 217&nbsp; bin/mysql_install_db --user=mysql<br />&nbsp; 218&nbsp; ls bin/<br />&nbsp; 219&nbsp; cd ..<br />&nbsp; 220&nbsp; cd mysql/<br />&nbsp; 221&nbsp; ls<br />&nbsp; 222&nbsp; scripts/mysql_install_db --user=mysql<br />&nbsp; 223&nbsp; chown -R root .<br />&nbsp; 224&nbsp; ls<br />&nbsp; 225&nbsp; chown -R mysql var<br />&nbsp; 226&nbsp; vim /etc/my.cnf<br />&nbsp; 227&nbsp; chown -R mysql data<br />&nbsp; 228&nbsp; chgrp -R mysql .<br />&nbsp; 229&nbsp; ls -l<br />&nbsp; 230&nbsp; bin/mysqld_safe --user=mysql&amp;<br />&nbsp; 231&nbsp; clear<br />&nbsp; 232&nbsp; history<br />&nbsp; 233&nbsp; cd /home/ko<br />&nbsp; 234&nbsp; history &gt;lamp.log<br />&nbsp; 235&nbsp; gedit lamp.log <br />&nbsp; 236&nbsp; netstat -apn |grep 3306<br />&nbsp; 237&nbsp; netstat -apn |grep 80<br />&nbsp; 238&nbsp; /usr/local/apache2/bin/apachectl stop<br />&nbsp; 239&nbsp; netstat -apn |grep 80<br />&nbsp; 240&nbsp; cd /usr/local/src<br />&nbsp; 241&nbsp; ls<br />&nbsp; 242&nbsp; cd php-5.3.5<br />&nbsp; 243&nbsp; ls<br />&nbsp; 244&nbsp; ./configure --help<br />&nbsp; 245&nbsp; locate libxml2<br />&nbsp; 246&nbsp; ./configure --with-apxs2=/usr/local/apache2/bin/apxs --with-mysql=/usr/local/mysql/ <br />&nbsp; 247&nbsp; apt-get install libxml2<br />&nbsp; 248&nbsp; apt-cache search libxml2<br />&nbsp; 249&nbsp; apt-get install libxml2-dev<br />&nbsp; 250&nbsp; ./configure --with-apxs2=/usr/local/apache2/bin/apxs --with-mysql=/usr/local/mysql/ <br />&nbsp; 251&nbsp; make <br />&nbsp; 252&nbsp; make install<br />&nbsp; 253&nbsp; php<br />&nbsp; 254&nbsp; man php<br />&nbsp; 255&nbsp; ls<br />&nbsp; 256&nbsp; cd /usr/local<br />&nbsp; 257&nbsp; ls<br />&nbsp; 258&nbsp; locate php.ini<br />&nbsp; 259&nbsp; cd apache2/<br />&nbsp; 260&nbsp; ls<br />&nbsp; 261&nbsp; vim conf/httpd.conf<br />&nbsp; 262&nbsp; cd htdocs/<br />&nbsp; 263&nbsp; ls<br />&nbsp; 264&nbsp; vim test.php<br />&nbsp; 265&nbsp; cd ..<br />&nbsp; 266&nbsp; bin/apachectl start<br />&nbsp; 267&nbsp; cd ../lib<br />&nbsp; 268&nbsp; ls<br />&nbsp; 269&nbsp; cd php/<br />&nbsp; 270&nbsp; ls<br />&nbsp; 271&nbsp; cd ..<br />&nbsp; 272&nbsp; find -name php.ini<br />&nbsp; 273&nbsp; apt-cache search Zend<br />&nbsp; 274&nbsp; apt-cache search ZendOpt<br />&nbsp; 275&nbsp; apt-cache search phpMyAdmin<br />&nbsp; 276&nbsp; apt-get install phpMyAdmin<br />&nbsp; 277&nbsp; mv /root/Desktop/ZendOptimizer-3.3.9-linux-glibc23-i386.tar.gz /usr/local/src/<br />&nbsp; 278&nbsp; cd ../src<br />&nbsp; 279&nbsp; ls<br />&nbsp; 280&nbsp; tar zxvf ZendOptimizer-3.3.9-linux-glibc23-i386.tar.gz <br />&nbsp; 281&nbsp; cd ZendOptimizer-3.3.9-linux-glibc23-i386<br />&nbsp; 282&nbsp; ls<br />&nbsp; 283&nbsp; cd data/<br />&nbsp; 284&nbsp; ls<br />&nbsp; 285&nbsp; cd ..<br />&nbsp; 286&nbsp; cd data<br />&nbsp; 287&nbsp; cd 5_2_x_comp/<br />&nbsp; 288&nbsp; ls<br />&nbsp; 289&nbsp; mkdir /usr/local/zend<br />&nbsp; 290&nbsp; cp ZendOptimizer.so /usr/local/zend/<br />&nbsp; 291&nbsp; cd /usr/local/src/php-5.3.5<br />&nbsp; 292&nbsp; ls<br />&nbsp; 293&nbsp; cp php.ini-development /usr/local/lib/php.ini<br />&nbsp; 294&nbsp; vim /usr/local/lib/php.ini<br />&nbsp; 295&nbsp; ps -ef|grep php<br />&nbsp; 296&nbsp; cd ..<br />&nbsp; 297&nbsp; ls<br />&nbsp; 298&nbsp; tar zxvf ZendOptimizer-3.3.9-linux-glibc23-i386<br />&nbsp; 299&nbsp; tar zxvf ZendOptimizer-3.3.9-linux-glibc23-i386.tar.gz <br />&nbsp; 300&nbsp; cd ZendOptimizer-3.3.9-linux-glibc23-i386<br />&nbsp; 301&nbsp; ./install<br />&nbsp; 302&nbsp; /usr/local/apache2/bin/apachectl stop<br />&nbsp; 303&nbsp; /usr/local/apache2/bin/apachectl start<br />&nbsp; 304&nbsp; ls<br />&nbsp; 305&nbsp; vim README-ZendOptimizer <br />&nbsp; 306&nbsp; cd /usr/local/lib<br />&nbsp; 307&nbsp; vim php.ini <br />&nbsp; 308&nbsp; /usr/local/apache2/bin/apachectl stop<br />&nbsp; 309&nbsp; /usr/local/apache2/bin/apachectl start<br />&nbsp; 310&nbsp; cd /home/ko<br />&nbsp; 311&nbsp; ls<br />&nbsp; 312&nbsp; history<br />&nbsp; 313&nbsp; history &gt;lamp.log </p> </div>