---
layout: post
title: curl发微博
time: 2013-07-05 21:34
tags: 好好学习天天向上
---

<div id=content class="content mod-cs-content text-content clearfix"> <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="line number1 index0 alt2"><code>login=</code><code>&#39;xxxx&#39;</code></div><div class="line number2 index1 alt1"><code>read</code> <code>-p </code><code>&#39;请输入密码：&#39;</code> <code>-s pass</code></div><div class="line number3 index2 alt2"><code>echo</code></div><div class="line number4 index3 alt1"><code>addrs=(</code><code>test</code><code>泰山 +36.188858 +117.106315 </code><code>test</code><code>衡山 +27.257071 +112.87744 </code><code>test</code><code>华山 +34.47941 +110.069465 </code><code>test</code><code>恒山 +39.657811 +113.726342 </code><code>test</code><code>嵩山 +34.517802 +113.013776)</code></div><div class="line number5 index4 alt2"><code>for</code><code>((i=0;i&lt;${</code><code>#addrs[@]};i+=3))</code></div><div class="line number6 index5 alt1"><code>do</code></div><div class="line number7 index6 alt2"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>status=${addrs[$i]}</code></div><div class="line number8 index7 alt1"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>lat=${addrs[$(($i+1))]}</code></div><div class="line number9 index8 alt2"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>long=${addrs[$(($i+2))]}</code></div><div class="line number10 index9 alt1"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>echo</code> <code>$status</code></div><div class="line number11 index10 alt2"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>curl -u $login:$pass -d </code><code>&quot;source=666&amp;status=$status&amp;lat=$lat&amp;long=$long&quot;</code> <code>https:</code><code>//api</code><code>.weibo.com</code><code>/2/statuses/update</code><code>.json</code></div><div class="line number12 index11 alt1"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>sleep</code> <code>1</code></div><div class="line number13 index12 alt2"><code>done</code></div><div class="line number14 index13 alt1"><code>exit</code></div></td></tr></tbody></table><p><br /></p> </div>