---
layout: post
title: 装饰者模式
time: 2011-07-24 23:15
tags: 好好学习天天向上
---

<div id=content class="content mod-cs-content text-content clearfix"> <p><img class="blogimg" small="0" src="http://hiphotos.baidu.com/pengjunlong/pic/item/4fbb13246478f64dd5074210.jpg" /><br />&nbsp;1&nbsp;package&nbsp;decorator;<br />&nbsp;2&nbsp;<br />&nbsp;3&nbsp;<br />&nbsp;4&nbsp;<br />&nbsp;5&nbsp;<br />&nbsp;6&nbsp;<br />&nbsp;7&nbsp;<br />&nbsp;8&nbsp;<br />&nbsp;9&nbsp;<br />10&nbsp;<br />11&nbsp;<br />12&nbsp;<br />13&nbsp;<br />14&nbsp;<br />15&nbsp;<br />16&nbsp;<br />17&nbsp;<br />18&nbsp;<br />19&nbsp;<br />20&nbsp;<br />21&nbsp;public&nbsp;class&nbsp;StarbuzzCoffee {<br />22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Methods<br />23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Constructors<br />24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Empty Constructor<br />25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;StarbuzzCoffee&nbsp;(&nbsp;)&nbsp;{ }<br />26&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Operations<br />27&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br />28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;<br />29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />30&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main&nbsp;(String[]&nbsp;args)&nbsp;{<br />31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Beverage beverage =&nbsp;new&nbsp;Espresso();<br />32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(beverage.getDescription()&nbsp;+&nbsp;&quot; $&quot;&nbsp;+ beverage.cost());<br />33&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Beverage beverage2 =&nbsp;new&nbsp;DarkRoast();<br />34&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beverage2 =&nbsp;new&nbsp;Mocha(beverage2);<br />35&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beverage2 =&nbsp;new&nbsp;Milk(beverage2);<br />36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beverage2 =&nbsp;new&nbsp;Whip(beverage2);<br />37&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(beverage2.getDescription()&nbsp;+&nbsp;&quot; $&quot;&nbsp;+ beverage2.cost());<br />38&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Beverage beverage3 =&nbsp;new&nbsp;Soy(beverage);<br />39&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(beverage3.getDescription()&nbsp;+&nbsp;&quot; $&quot;&nbsp;+ beverage3.cost());<br />40&nbsp;<br />41&nbsp;<br />42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />43&nbsp;}<br />44<br /></p><p>&nbsp;1&nbsp;package&nbsp;decorator;<br />&nbsp;2&nbsp;<br />&nbsp;3&nbsp;<br />&nbsp;4&nbsp;<br />&nbsp;5&nbsp;<br />&nbsp;6&nbsp;<br />&nbsp;7&nbsp;<br />&nbsp;8&nbsp;<br />&nbsp;9&nbsp;<br />10&nbsp;<br />11&nbsp;<br />12&nbsp;<br />13&nbsp;<br />14&nbsp;<br />15&nbsp;<br />16&nbsp;<br />17&nbsp;<br />18&nbsp;<br />19&nbsp;<br />20&nbsp;abstract&nbsp;public&nbsp;class&nbsp;Beverage {<br />21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Fields<br />22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;<br />23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;String description =&nbsp;&quot;Unknown Beverage&quot;;<br />24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Methods<br />25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Constructors<br />26&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Empty Constructor<br />27&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Beverage&nbsp;(&nbsp;)&nbsp;{ }<br />28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Accessor Methods<br />29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Operations<br />30&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br />31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;<br />32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />33&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String getDescription&nbsp;()&nbsp;{<br />34&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;description;<br />35&nbsp;<br />36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />37&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br />38&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;<br />39&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;public&nbsp;double&nbsp;cost&nbsp;();&nbsp;<br />41&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />42&nbsp;}<br />43</p><p>&nbsp;1&nbsp;package&nbsp;decorator;<br />&nbsp;2&nbsp;<br />&nbsp;3&nbsp;<br />&nbsp;4&nbsp;<br />&nbsp;5&nbsp;<br />&nbsp;6&nbsp;<br />&nbsp;7&nbsp;<br />&nbsp;8&nbsp;<br />&nbsp;9&nbsp;<br />10&nbsp;<br />11&nbsp;<br />12&nbsp;<br />13&nbsp;<br />14&nbsp;<br />15&nbsp;<br />16&nbsp;<br />17&nbsp;<br />18&nbsp;<br />19&nbsp;<br />20&nbsp;public&nbsp;class&nbsp;Espresso&nbsp;extends&nbsp;Beverage {<br />21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Methods<br />22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Constructors<br />23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Empty Constructor<br />24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Espresso&nbsp;(&nbsp;)&nbsp;{&nbsp;<br />25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;description =&nbsp;&quot;Espresso Coffee&quot;;<br />26&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />27&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Operations<br />28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br />29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;<br />30&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;double&nbsp;cost&nbsp;()&nbsp;{<br />32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;1.99;<br />33&nbsp;<br />34&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />35&nbsp;}<br />36<br /></p><p>&nbsp;1&nbsp;package&nbsp;decorator;<br />&nbsp;2&nbsp;<br />&nbsp;3&nbsp;<br />&nbsp;4&nbsp;<br />&nbsp;5&nbsp;<br />&nbsp;6&nbsp;<br />&nbsp;7&nbsp;<br />&nbsp;8&nbsp;<br />&nbsp;9&nbsp;<br />10&nbsp;<br />11&nbsp;<br />12&nbsp;<br />13&nbsp;<br />14&nbsp;<br />15&nbsp;<br />16&nbsp;<br />17&nbsp;<br />18&nbsp;<br />19&nbsp;<br />20&nbsp;abstract&nbsp;public&nbsp;class&nbsp;CondimentDecorator&nbsp;extends&nbsp;Beverage {<br />21&nbsp;&nbsp;&nbsp;// Methods<br />22&nbsp;&nbsp;&nbsp;// Constructors<br />23&nbsp;&nbsp;&nbsp;// Empty Constructor<br />24&nbsp;&nbsp;&nbsp;public&nbsp;CondimentDecorator&nbsp;(&nbsp;)&nbsp;{ }<br />25&nbsp;&nbsp;&nbsp;// Operations<br />26&nbsp;&nbsp;&nbsp;/**<br />27&nbsp;&nbsp;&nbsp; *&nbsp;<br />28&nbsp;&nbsp;&nbsp;&nbsp;*/<br />29&nbsp;&nbsp;&nbsp;abstract&nbsp;public&nbsp;String getDescription&nbsp;();&nbsp;<br />30&nbsp;}<br />31</p><p>&nbsp;1&nbsp;package&nbsp;decorator;<br />&nbsp;2&nbsp;<br />&nbsp;3&nbsp;<br />&nbsp;4&nbsp;<br />&nbsp;5&nbsp;<br />&nbsp;6&nbsp;<br />&nbsp;7&nbsp;<br />&nbsp;8&nbsp;<br />&nbsp;9&nbsp;<br />10&nbsp;<br />11&nbsp;<br />12&nbsp;<br />13&nbsp;<br />14&nbsp;<br />15&nbsp;<br />16&nbsp;<br />17&nbsp;<br />18&nbsp;<br />19&nbsp;<br />20&nbsp;public&nbsp;class&nbsp;Milk&nbsp;extends&nbsp;CondimentDecorator {<br />21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Fields<br />22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;<br />23&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Beverage beverage;<br />24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Methods<br />25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Constructors<br />26&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Empty Constructor<br />27&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Milk&nbsp;(Beverage beverage&nbsp;)&nbsp;{&nbsp;<br />28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.beverage = beverage;<br />29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />30&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Accessor Methods<br />31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Operations<br />32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br />33&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;<br />34&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />35&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;double&nbsp;cost&nbsp;()&nbsp;{<br />36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0.10&nbsp;+ beverage.cost();<br />37&nbsp;<br />38&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />39&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/**<br />40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;<br />41&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String getDescription&nbsp;()&nbsp;{<br />43&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;beverage.getDescription()&nbsp;+&nbsp;&quot;, Milk&quot;;<br />44&nbsp;<br />45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />46&nbsp;}<br />47<br /><br /></p> </div>