<h2>好好学习天天向上</h2><br/><h1>Javascript-performance-test</h1><hr/>
<div id=content class="content mod-cs-content text-content clearfix"> &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;<br /><br />&lt;html&gt;<br />&lt;head&gt;<br /> &lt;title&gt;Javascript performance test&lt;/title&gt;<br /> <br /> &lt;style&gt;<br />  body, span{font-family: verdana, sans serif; font-size: 12px;}<br />  input{margin-right: 20px;}<br />  span{padding-left: 20px;}<br /> &lt;/style&gt;<br /> &lt;script&gt;<br />  <br />  <br />  var start;<br />  var end;<br />  var forLoopTime = 0;<br />  var addTime = 0;<br />  var subtractTime = 0;<br />  var multiplyTime = 0;<br />  var divideTime = 0;<br />  var divide2Time = 0;<br />  var fromArrayTime = 0;<br />  var parseIntTime = 0;<br />  var varTime = 0;<br />  var sinTime = 0;<br />  var floorTime = 0;<br />  var ifTime = 0;<br />  var readGlobalTime = 0;<br />  var concatStringsTime = 0;<br />  var sortArrayTime = 0;<br />  <br />  gValue = 123;<br />  <br />  var continueAfter = false;<br /> <br />  function testFor()<br />  {<br />   start = new Date();<br />   for (var i=0; i&lt;=1000000; i++)<br />   {<br />    void(0);<br />   }<br />   end = new Date();<br />   forLoopTime = end-start;<br />   var textElem = document.createTextNode(forLoopTime + 'ms  ')<br />   document.getElementById('forResult').appendChild(textElem);<br />   completed();<br />  }<br />  <br />  function testAdd()<br />  {<br />    var value1=123;<br />    var value2=234;<br />    var value3;<br />    start = new Date();<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     value3 = value1 + value2;<br />    }<br />    end = new Date();<br />    addTime = end-start;<br />    var textElem = document.createTextNode(addTime + 'ms  ')<br />    document.getElementById('addResult').appendChild(textElem);<br />    completed();<br />  }<br />  <br />  function testSubtract()<br />  {<br />    var value1=123;<br />    var value2=234;<br />    var value3;<br />    start = new Date();<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     value3 = value2 - value1<br />    }<br />    end = new Date();<br />    subtractTime = end-start;<br />    var textElem = document.createTextNode(subtractTime + 'ms  ')<br />    document.getElementById('subtractResult').appendChild(textElem);<br />    completed();<br />  }<br />  <br />  function testMultiply()<br />  { <br />    var value1=123;<br />    var value2=234;<br />    var value3;<br />    start = new Date();<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     value3 = value2 * value1<br />    }<br />    end = new Date();<br />    multiplyTime = end-start;<br />    var textElem = document.createTextNode(multiplyTime + 'ms  ')<br />    document.getElementById('multiplyResult').appendChild(textElem);<br />    completed();<br />  }<br />  <br />  function testDivide()<br />  {<br />    var value1=123;<br />    var value2=234;<br />    var value3;<br />    start = new Date();<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     value3 = value2 / value1<br />    }<br />    end = new Date();<br />    divideTime = end-start;<br />    var textElem = document.createTextNode(divideTime + 'ms  ')<br />    document.getElementById('divideResult').appendChild(textElem);<br />    completed();<br />  }<br />  <br />  function testDivide2()<br />  {<br />    var value1=123;<br />    var value2=234;<br />    var value3;<br />    start = new Date();<br />    var temp= (1 / value1);<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     value3 = value2 * temp<br />    }<br />    end = new Date();<br />    divide2Time = end-start;<br />    var textElem = document.createTextNode(divide2Time + 'ms  ')<br />    document.getElementById('divide2Result').appendChild(textElem);<br />    completed();<br />  }<br />  <br />  <br />  <br />  function testFromArray()<br />  {<br />    var value3;<br />    var value4 = new Array(1,2,3,4,5,6,7,8,9,10)<br />    start = new Date();<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     value3 = value4[6]<br />    }<br />    end = new Date();<br />    fromArrayTime = end-start;<br />    var textElem = document.createTextNode(fromArrayTime + 'ms  ')<br />    document.getElementById('fromArrayResult').appendChild(textElem);<br />    completed();<br />  }<br />  <br />  function testParseInt()<br />  {<br />    var value3;<br />    start = new Date();<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     value3 = parseInt(123.23)<br />    }<br />    end = new Date();<br />    parseIntTime = end-start;<br />    var textElem = document.createTextNode(parseIntTime + 'ms  ')<br />    document.getElementById('parseIntResult').appendChild(textElem);<br />    completed();<br />  }<br />  <br />  function testVar()<br />  {<br />    start = new Date();<br />    for (var i=0; i&lt;=1000000; i++)<br />    {<br />     var a=1; var b=2; var c=3;<br />    }<br />    end = new Date();<br />    varTime = end-start;<br />    var textElem = document.createTextNode(varTime + 'ms  ')<br />    document.getElementById('varResult').appendChild(textElem);<br />    completed();<br />   <br />  }<br />  <br />  function testSin()<br />  {<br />   var value3;<br />   start = new Date();<br />   for (var i=0; i&lt;=1000000; i++)<br />   {<br />    value3 = Math.sin(.1)<br />   }<br />   end = new Date();<br />   sinTime = end-start;<br />   var textElem = document.createTextNode(sinTime + 'ms  ')<br />   document.getElementById('sinResult').appendChild(textElem);<br />   completed();   <br />  }<br />  <br />  function testFloor()<br />  {<br />   var value3;<br />   start = new Date();<br />   for (var i=0; i&lt;=1000000; i++)<br />   {<br />    value3 = Math.floor(43.341)<br />   }<br />   end = new Date();<br />   floorTime = end-start;<br />   var textElem = document.createTextNode(floorTime + 'ms  ')<br />   document.getElementById('floorResult').appendChild(textElem);<br />   completed();   <br />  }<br />  <br />  function testIf()<br />  {<br />   var value1=123;<br />   start = new Date();<br />   for (var i=0; i&lt;=1000000; i++)<br />   {<br />    if (value1&lt;12)<br />    {<br />     void(0);<br />    }<br />   }<br />   end = new Date();<br />   ifTime = end-start;<br />   var textElem = document.createTextNode(ifTime + 'ms  ')<br />   document.getElementById('ifResult').appendChild(textElem);<br />   completed();   <br />  }<br />  <br />  function testReadGlobal()<br />  {<br />   var value<br />   start = new Date();<br />   for (var i=0; i&lt;=1000000; i++)<br />   {<br />    value = gValue;<br />   }<br />   end = new Date();<br />   readGlobalTime = end-start;<br />   var textElem = document.createTextNode(readGlobalTime + 'ms  ')<br />   document.getElementById('readGlobalResult').appendChild(textElem);<br />   completed();   <br />  }<br />  <br />  function testConcatStrings()<br />  {<br />   var string1 = 'abcdefghijklmnopqrstuvxyz'<br />   var string2 = 'abcdefghijklmnopqrstuvxyz'<br />   var string3;<br />   start = new Date();<br />   for (var i=0; i&lt;=1000000; i++)<br />   {<br />    string3 = string1 + string2;<br />   }<br />   end = new Date();<br />   concatStringsTime = end-start;<br />   var textElem = document.createTextNode(concatStringsTime + 'ms  ')<br />   document.getElementById('concatStringsResult').appendChild(textElem);<br />   completed();   <br />  }<br />  <br />  function testSortArray()<br />  {<br />   var theArray = new Array;<br />   for(i=0; i&lt;=10000; i++)<br />    theArray[i] = parseInt(Math.random()*10000)<br />   start = new Date();<br />    theArray.sort();<br />   end = new Date();<br />   sortArrayTime = end-start;<br />   var textElem = document.createTextNode(sortArrayTime + 'ms  ')<br />   document.getElementById('sortArrayResult').appendChild(textElem);<br />   completed();   <br />  }<br />  <br />  <br />  function completed()<br />  {<br />   if(continueAfter)<br />   {<br />   if(forLoopTime==0)<br />    setTimeout('testFor()',10);<br />   else<br />    if(addTime==0)<br />     setTimeout('testAdd()',10);<br />    else<br />     if(subtractTime==0)<br />      setTimeout('testSubtract()',10);<br />     else<br />      if(multiplyTime==0)<br />       setTimeout('testMultiply()',10);<br />      else<br />       if(divideTime==0)<br />        setTimeout('testDivide()',10);<br />       else<br />        if(divide2Time==0)<br />         setTimeout('testDivide2()',10);<br />        else<br />         if(fromArrayTime==0)<br />          setTimeout('testFromArray()',10);<br />         else<br />          if(parseIntTime==0)<br />           setTimeout('testParseInt()',10);<br />          else<br />           if(varTime==0)<br />            setTimeout('testVar()',10);<br />           else<br />            if(sinTime==0)<br />             setTimeout('testSin()',10);<br />            else<br />             if(floorTime==0)<br />              setTimeout('testFloor()',10);<br />             else<br />              if(ifTime==0)<br />               setTimeout('testIf()',10);<br />              else<br />               if(readGlobalTime==0)<br />                setTimeout('testReadGlobal()',10);<br />               else<br />                if(concatStringsTime==0)<br />                 setTimeout('testConcatStrings()',10);<br />                else<br />                 if(sortArrayTime==0)<br />                  setTimeout('testSortArray()',10);<br />                 else <br />                  continueAfter=false;<br />    }<br />   <br />   if(forLoopTime!=0&amp;&amp;addTime!=0&amp;&amp;subtractTime!=0&amp;&amp;multiplyTime!=0&amp;&amp;divideTime!=0&amp;&amp;divide2Time!=0&amp;&amp;fromArrayTime!=0&amp;&amp;parseIntTime!=0&amp;&amp;varTime!=0&amp;&amp;sinTime!=0&amp;&amp;floorTime!=0&amp;&amp;ifTime!=0&amp;&amp;readGlobalTime!=0&amp;&amp;concatStringsTime!=0&amp;&amp;sortArrayTime!=0)<br />   {   <br />    averageTime = (forLoopTime+addTime+subtractTime+multiplyTime+divideTime+divide2Time+fromArrayTime+parseIntTime+varTime+sinTime+floorTime+ifTime+readGlobalTime+concatStringsTime+sortArrayTime)/15;<br />    document.getElementById('averageResult').innerHTML = '&lt;b&gt;' + parseInt(averageTime) + 'ms&lt;/b&gt;';<br />   }<br />  }<br />  <br /> &lt;/script&gt;<br />&lt;/head&gt;<br /><br />&lt;body&gt;<br />&lt;form&gt;<br />&lt;input type=&quot;button&quot; value=&quot;for-loop&quot; onclick=&quot;testFor()&quot;&gt;1000000 times:&lt;span id=&quot;forResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;add&quot; onclick=&quot;testAdd()&quot;&gt;1000000 times: &lt;span id=&quot;addResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;subtract&quot; onclick=&quot;testSubtract()&quot;&gt;1000000 times:&lt;span id=&quot;subtractResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;multiply&quot; onclick=&quot;testMultiply()&quot;&gt;1000000 times:&lt;span id=&quot;multiplyResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;divide&quot; onclick=&quot;testDivide()&quot;&gt;1000000 times:&lt;span id=&quot;divideResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;divide2&quot; onclick=&quot;testDivide2()&quot;&gt;1000000 times:&lt;span id=&quot;divide2Result&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;get value from array&quot; onclick=&quot;testFromArray()&quot;&gt;1000000 times:&lt;span id=&quot;fromArrayResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;parseInt()&quot; onclick=&quot;testParseInt()&quot;&gt;1000000 times:&lt;span id=&quot;parseIntResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;var&quot; onclick=&quot;testVar()&quot;&gt;1000000 times:&lt;span id=&quot;varResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;Math.sin()&quot; onclick=&quot;testSin()&quot;&gt;1000000 times:&lt;span id=&quot;sinResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;Math.floor()&quot; onclick=&quot;testFloor()&quot;&gt;1000000 times:&lt;span id=&quot;floorResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;if&quot; onclick=&quot;testIf()&quot;&gt;1000000 times:&lt;span id=&quot;ifResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;read global variable&quot; onclick=&quot;testReadGlobal()&quot;&gt;1000000 times:&lt;span id=&quot;readGlobalResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;concatenate strings&quot; onclick=&quot;testConcatStrings()&quot;&gt;1000000 times:&lt;span id=&quot;concatStringsResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;sort Array&quot; onclick=&quot;testSortArray()&quot;&gt;&lt;span id=&quot;sortArrayResult&quot;&gt;&lt;/span&gt;&lt;br&gt;<br />&lt;br&gt;<br />&lt;input type=&quot;button&quot; value=&quot;Run all tests&quot; onclick=&quot;continueAfter=true;completed()&quot;&gt;Average time: &lt;span id=&quot;averageResult&quot;&gt;&lt;/span&gt;<br /><br />&lt;/form&gt;<br /><br />&lt;/body&gt;<br />&lt;/html&gt;<br /> </div>