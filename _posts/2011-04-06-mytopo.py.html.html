<h2>好好学习天天向上</h2><br/><h1>mytopo.py.html</h1><hr/>
<div id=content class="content mod-cs-content text-content clearfix"> <p>&quot;&quot;&quot;Custom topology example<br /><br />author: Brandon Heller (brandonh@stanford.edu)<br /><br />Two directly connected switches plus a host for each switch:<br /><br />&nbsp;&nbsp; host --- switch --- switch --- host<br /><br />Adding the 'topos' dict with a key/value pair to generate our newly defined<br />topology enables one to pass in '--topo=mytopo' from the command line.<br />&quot;&quot;&quot;<br /><br />from&nbsp;mininet.topo import&nbsp;Topo, Node<br /><br />class&nbsp;MyTopo( Topo ):<br />&nbsp;&nbsp;&nbsp;&nbsp;&quot;Simple topology example.&quot;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__( self, enable_all = True&nbsp;):<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Create custom topo.&quot;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add default members to class.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super( MyTopo, self ).__init__()<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Set Node IDs for hosts and switches<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leftHost1 = 3<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leftHost2 = 4<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leftSwitch = 1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rightSwitch = 2<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rightHost = 5<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add nodes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_node( leftSwitch, Node( is_switch=True&nbsp;) )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_node( rightSwitch, Node( is_switch=True&nbsp;) )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_node( leftHost1, Node( is_switch=False&nbsp;) )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_node( leftHost2, Node( is_switch=False&nbsp;) )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_node( rightHost, Node( is_switch=False&nbsp;) )<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Add edges<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_edge( leftHost1, leftSwitch )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_edge( leftHost2, leftSwitch )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_edge( leftSwitch, rightSwitch )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_edge( rightSwitch, rightHost )<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Consider all switches and hosts 'on'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.enable_all()<br /><br /><br />topos = { 'mytopo': ( lambda: MyTopo() ) }<br /></p> </div>