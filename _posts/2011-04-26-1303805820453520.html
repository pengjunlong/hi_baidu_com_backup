---
layout: post
title: 关于多通道排序的问题
time: 2011-04-26 16:17
tags: 好好学习天天向上
---

<div id=content class="content mod-cs-content text-content clearfix"> <p>/*&nbsp;Copyright (C) 1999 Lucent Technologies*/<br />/*&nbsp;From 'Programming Pearls' by Jon Bentley*/<br /><br />/*&nbsp;bitsort.c -- bitmap sort from Column 1<br />&nbsp;*&nbsp;&nbsp; Sort distinct integers in the range [0..N-1]<br />&nbsp;*/<br /><br />#include&lt;stdio.h&gt;<br /><br />#define BITSPERWORD32<br />#define SHIFT5<br />#define MASK0x1F<br />#define N10000000<br />int&nbsp;a[1&nbsp;+ N/BITSPERWORD];<br /><br />void&nbsp;set(int&nbsp;i) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a[i&gt;&gt;SHIFT] |=&nbsp;&nbsp;(1&lt;&lt;(i &amp; MASK)); }<br />void&nbsp;clr(int&nbsp;i) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a[i&gt;&gt;SHIFT] &amp;= ~(1&lt;&lt;(i &amp; MASK)); }<br />int&nbsp;&nbsp;test(int&nbsp;i){ return&nbsp;a[i&gt;&gt;SHIFT] &amp;&nbsp;&nbsp; (1&lt;&lt;(i &amp; MASK)); }<br /><br />int&nbsp;main()<br />{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;i;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i = 0; i &lt; N; i++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clr(i);<br />/*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Replace above 2 lines with below 3 for word-parallel init<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int top = 1 + N/BITSPERWORD;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (i = 0; i &lt; top; i++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a[i] = 0;<br />&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(scanf(&quot;%d&quot;, &amp;i) != EOF)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set(i);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i = 0; i &lt; N; i++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(test(i))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;%d\n&quot;, i);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;<br />}<br /><br /></p> </div>