<h2>好好学习天天向上</h2><br/><h1>s11.py</h1><hr/>
<div id=content class="content mod-cs-content text-content clearfix"> <p>&quot;&quot;&quot;Custom topology example<br /><br />author: Brandon Heller (brandonh@stanford.edu)<br /><br />&nbsp;&nbsp;&nbsp; Two directly connected switches plus a host for each switch:<br /><br />&nbsp;&nbsp;&nbsp; host --- switch --- switch --- host<br /><br />&nbsp;&nbsp;&nbsp; Adding the 'topos' dict with a key/value pair to generate our newly defined<br />&nbsp;&nbsp;&nbsp; topology enables one to pass in '--topo=mytopo' from the command line.<br />&nbsp;&nbsp;&nbsp; &quot;&quot;&quot;<br /><br />from mininet.topo import Topo, Node<br /><br />class MyTopo( Topo ):<br />&nbsp;&nbsp;&nbsp; &quot;Simple topology example.&quot;<br /><br />&nbsp;&nbsp;&nbsp; def __init__( self, enable_all = True ):<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &quot;Create custom topo.&quot;<br /><br /># Add default members to class.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; super( MyTopo, self ).__init__()<br /><br />&nbsp;&nbsp;&nbsp; # Set Node IDs for hosts and switches<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Host11 = 11<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Host22 = 22<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Host33 = 33<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Host44 = 44<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ER1 = 1<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ER2 = 2<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ER3 = 3<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; CR1 = 4<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; CR2 = 5<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; CR3 = 6<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; MR1 = 7<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; MR2 = 8<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; R1 = 9<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; R2 = 10<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; R3 = 11<br /><br />&nbsp;&nbsp;&nbsp; # Add nodes<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( ER1, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( ER2, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( ER3, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( CR1, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( CR2, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( CR3, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( MR1, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( MR2, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( R1, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( R2, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( R3, Node( is_switch=True ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( Host11, Node( is_switch=False ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( Host22, Node( is_switch=False ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( Host33, Node( is_switch=False ) )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_node( Host44, Node( is_switch=False ) )<br /><br />&nbsp;&nbsp;&nbsp; # Add edges<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( MR1, CR1 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( MR2, CR1 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( MR2, ER1 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( MR1, CR2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( CR2, CR3 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( CR3, ER1 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( ER3, CR2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( R1, CR2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( CR3, R3 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( CR3, ER2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( ER3, R2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( ER2, R3 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( R1, R2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( R1, R3 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( R2, R3 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( CR2, R2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( R1, CR3 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( Host11, ER1 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( Host22, ER2 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( Host33, ER3 )<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.add_edge( Host44, CR1 )<br /><br />&nbsp;&nbsp;&nbsp; # Consider all switches and hosts 'on'<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; self.enable_all()<br /><br /><br />topos = { 'mytopo': ( lambda: MyTopo() ) }</p> </div>