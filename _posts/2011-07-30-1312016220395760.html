---
layout: post
title: 实时操作系统和分时操作系统的区别
time: 2011-07-30 16:57
tags: 好好学习天天向上
---

<div id=content class="content mod-cs-content text-content clearfix"> <p>分时操作系统按照相等的时间片调度进程轮流运行，<strong>分时操作系统由调度程序自动计算进程的优先级，而不是由用户控制进程的优先级。这样的系统无法实时响应外部异步事件。</strong></p><p><strong>实时操作系统能够在限定的时间内执行完所规定的功能，并能在限定的时间内对外部的异步事件作出响应。</strong>&nbsp;分时系统主要应用于科学计算和一般实时性要求不高的场合。实时性系统主要应用于过程控制、数据采集、通信、多媒体信息处理等对时间敏感的场合。</p><p><br /></p><p><br /></p><p><strong>对一个实时内核的要求<big><big></big></big></strong></p><blockquote><p>一个实时操作系统内核需满足许多特定的实时环境所提出的基本要求，这些包括：</p></blockquote><blockquote><p><strong>多任务：</strong>由于真实世界的事件的异步性，<strong>能够运行许多并发进程或任务</strong>是很重要的。多任务提供了一个较好的对真实世界的匹配，因为它允许对应于许多外部事件的多线程执行。系统内核分配CPU给这些任务来获得并发性。</p><p><strong>抢占调度</strong>：真实世界的事件具有继承的优先级，<strong>在分配CPU的时候要注意到这些优先级。基于优先级的抢占调度</strong>，任务都被指定了优先级，在能够执行的任务（没有被挂起或正在等待资源）中，优先级最高的任务被分配CPU资源。换句话说，当一个高优先级的任务变为可执行态，它会立即抢占当前正在运行的较低优先级的任务。</p><p><strong>任务间的通讯与同步</strong>：在一个实时系统中，可能有许多任务作为一个应用的一部分执行。<strong>系统必须提供这些任务间的快速且功能强大的通信机制。内核也要提供为了有效地共享不可抢占的资源或临界区所需的同步机制</strong>。</p><p><strong>任务与中断之间的通信</strong>：尽管真实世界的事件通常作为中断方式到来，但为了提供有效的排队、优先化和减少中断延时，我们通常希望在任务级处理相应的工作。所以需要在<strong>任务级和中断级之间存在通信</strong>。</p><br /></blockquote><p>实时系统主要包括:多任务调度（采用优先级抢占方式），任务间的同步和进程间通信机制。</p><blockquote><p>一个多任务环境允许实时应用程序以一套独立任务的方式构筑，每个任务拥有独立的执行线程和它自己的一套系统资源。进程间通信机制使得这些任务的行为同步、协调。&nbsp;wind使用中断驱动和优先级的方式。它缩短了上下文转换的时间开销和中断的时延。在VxWorks 中，任何例程都可以被启动为一个单独的任务，拥有它自己的上下文和堆栈。还有一些其它的任务机制可以使任务挂起、继续、删除、延时或改变优先级。</p><p>另一个重要内容是:硬件中断处理。硬件产生中断,统治系统调用相应的中断历程(ISR),位是系统得到尽快的响应,ISR在它自己独立的上下文和堆栈中运行.它的优先级高于任何任务优先级.</p><p></p></blockquote><strong>中断</strong><strong>延迟(Interrupt Latency)&nbsp;</strong>中断延迟是指从硬件中断发生到开始执行中断处理程序第一条指令之间的这段时间。<p><strong>优先级驱动(Priority-Driven)&nbsp;&nbsp;</strong>优先级驱动是指多任务系统中，当前运行任务总是具有最高优先级的就绪任务。</p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><ul><li><p><strong>多任务调度</strong></p></li></ul><blockquote><p>两种方式: 优先抢占和轮转调度(Preemptive Priority,Round-Robin Scheduling).</p></blockquote><strong></strong><blockquote><strong></strong><p><strong>优先抢占</strong>(Preemptive Priority): 每一个任务都有一个优先级,系统核心保证优先级最高的任务运行于CPU.如果<strong>有任务优先级高于当前的任务优先级,系统立刻保存当前任务的上下文,切换到优先级高的上下文</strong>.</p><a name="83848">Priority Preemption</a><dl><a name="83845"></a><img class="figure" src="http://hiphotos.baidu.com/pengjunlong/pic/item/c3cd2ea8fd75c6d6ca130cdb.jpg" width="360" height="141" /></dl><p>　</p><p>　</p></blockquote><blockquote><b></b><blockquote><b></b><p><b>抢占(Preemptive):&nbsp;</b>抢占是指当系统处于核心态运行时, 允许任务的重新调度。换句话说就是指正在执行的任务可以被打断，让另一个任务运行。抢占提高了应用对异步事件的响应性能力。操作系统内核可抢占，并不是说任务调度在任何时候都可以发生。例如当一个任务正在通过一个系统调用访问共享数据时，重新调度和中断都被禁止.</p></blockquote><blockquote><p><strong>任务上下文(Task Context):</strong><b>&nbsp;</b>任务上下文是指任务运行的环境。例如，针对x86的CPU，任务上下文可包括程序计数器、堆栈指针、通用寄存器的内容.</p></blockquote><blockquote><p><strong>上下文切换（Context Switching）:</strong>&nbsp;多任务系统中，上下文切换是指CPU的控制权由运行任务转移到另外一个就绪任务时所发生的事件，当前运行任务转为就绪（或者挂起、删除）状态，另一个被选定的就绪任务成为当前任务。上下文切换包括保存当前任务的运行环境，恢复将要运行任务的运行环境。上下文的内容依赖于具体的CPU.</p><p>　</p><p><strong><big>轮转调度(</big>Round-Robin Scheduling):</strong>使<strong>所有相同优先级,状态为ready的任务公平分享CPU(分配一定的时间间隔,使个任务轮流享有CPU)</strong>.</p><a name="83915">Round-Robin Scheduling</a><dl><a name="83912"></a><img class="figure" src="http://hiphotos.baidu.com/pengjunlong/pic/item/50510417821bf2664b90a7ca.jpg" width="360" height="137" /></dl><p>　</p><p></p></blockquote></blockquote><p><br /></p><p></p> </div>